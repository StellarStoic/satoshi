<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="nip05.css">
    <link href="https://cdn.lineicons.com/5.0/lineicons.css" rel="stylesheet">

    <!-- Apple Touch Icon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">

    <!-- Favicons -->
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">

    <!-- Web Manifest -->
    <link rel="manifest" href="/site.webmanifest">

    <!-- Windows Tile Icon -->
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-config" content="/browserconfig.xml">

    <!-- Theme Color -->
    <meta name="theme-color" content="#ffffff">

    <title>Exchange</title>
</head>
<style>
@import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,300;1,300&display=swap');
.info-modal-trigger {
    position: fixed;        /* üëà THIS is the key */
    top: 33px;
    right: 16px;
    font-size: 33px;
    color: #888;
    cursor: pointer;
    z-index: 9999;
}

/* Normal (unvisited) link */
#modal-links{
    color: #f2a900;                  /* Bitcoin gold */
    text-decoration: none;           /* Remove underline */
    transition: 
        color 0.2s ease,
        text-decoration-color 0.2s ease;
}

/* Visited link */
#modal-links a:visited {
    color: #d89a00;                  /* Slightly darker gold */
}

/* Hover (mouse over) */
#modal-links a:hover {
    color: #ffffff;                  /* Bright on hover */
    text-decoration: underline;      /* Clear feedback */
}

/* Active (while clicking) */
#modal-links a:active {
    color: #fde08a;                  /* Pressed effect */
}

/* Main exchange container */
.shitcoinExchange-container {
    display: flex;
    flex-direction: column;     /* Stack items vertically */
    align-items: center;        /* Center horizontally */
    justify-content: flex-start;
    min-height: 100vh;
    padding-top: 5rem;          /* Space from top */
    text-align: center;
}

/* Headings above the widget */
.exchange-headings {
    font-family: "Roboto Mono", monospace;
    max-width: 720px;
    margin-bottom: 3rem;          /* Space before iframe */
    padding: 0 1rem;
    min-height: 7.5rem;           /* Reserve enough space for tallest title */
    display: flex;
    align-items: center;           /* Center text vertically */
    justify-content: center;
    text-align: center;
}

/* Start all headings invisible */
.exchange-headings h1,
.exchange-headings h3,
.exchange-headings h6 {
    font-size: clamp(1.2rem, 5vw, 1.7rem);
    opacity: 0;                     /* Hidden by default */
    transition: opacity 2s ease;    /* Smooth fade in & out */
    color: #bf9739;
}

/* Loader styling */
.widget-loader {
    border: 5px solid #f2a900; /* Yellow border */
    border-top: 5px solid #4d4d4e; /* Dark border for contrast */
    border-radius: 50%;
    width: 50px;
    height: 50px;
    animation: spin 1s linear infinite;
    margin: 1rem auto; /* Center */
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Small screens */
@media (max-width: 768px) {
    .shitcoinExchange-container {
        padding-top: 4rem;
        padding-bottom: 4rem;
    }
    .exchange-headings h1 {
    font-size: clamp(1rem, 5vw, 1.5rem);
    margin-bottom: 0.75rem;
    color: #bf9739;
    }
}

/* Very small screens */
@media (max-width: 480px) {
    .shitcoinExchange-container {
        padding-top: 4rem;
        padding-bottom: 4rem;             /* Safe breathing room */
    }
    .exchange-headings h1 {
    font-size: clamp(0.8rem, 5vw, 1.3rem);
    color: #bf9739;
    }
}
</style>

<body>
    <!-- Copy text notification -->
    <div id="copyNotification"  class="copy-notification">Text copied to clipboard!</div>
    <!-- Burger menu -->
    <a href="#menu" id="toggle"><span></span></a>

    <div id="menu">
      <ul>
        <li><a href="index.html">Home</a></li>

        <!-- Bitcoin Knowlage submenu -->
        <li class="has-submenu">
        <a href="#">Knowlage</a>
        <ul class="submenu">
            <li><a href="whitepaper.html">Bitcoin whitepaper</a></li>
            <li><a href="quotes.html">Words of Satoshi</a></li>
            <li><a href="isBip39.html">Is BIP39 word?</a></li>
        </ul>
        </li>

        <!-- Lottery with submenu -->
        <li class="has-submenu">
        <a href="#">Lottery</a>
        <ul class="submenu">
            <li><a href="lottery.html">Play</a></li>
            <li><a href="https://t.me/bitcoinlightninglotterybot" target="_blank" rel="noopener">Play on Telegram</a></li>
            <li><a href="https://nosta.me/npub10tteryu88lw060vnljwr0m8du3l533dg33wh8sq57rw40u69u43szykhqv" target="_blank" rel="noopener">Follow Nostr bot</a></li>
            <li><a href="lotteryStats.html">Results & Stats</a></li>            
            <li><a href="ticketVerifier.html">Ticket Verifier</a></li>
            <li><a href="lotteryTOS.html" target="_blank"  rel="noopener">Lottery Terms of service</a></li>
        </ul>
        </li>

        <!-- Price related submenu -->
        <li class="has-submenu">
        <a href="#">Price Related</a>
        <ul class="submenu">
            <li><a href="converter.html">Converter</a></li>
            <li><a href="MoscowTime.html">Moscow time</a></li>
            <li><a href="memedBitcoinMood.html">Memed Bitcoin Mood</a></li>
            <li><a href="chart.html">History chart</a></li>
        </ul>
        </li>

        <!-- exchanage submenu -->
        <li class="has-submenu">
        <a href="#">Exchange</a>
        <ul class="submenu">
            <li><a href="#">Exchange Shitcoins</a></li>
            <li><a href="offers.html">P2P Bitcoin Offers</a></li>
        </ul>
        </li>

        <!-- Nostr submenu -->
        <li class="has-submenu">
        <a href="#">Nostr</a>
        <ul class="submenu">
            <li><a href="#">NIP-05</a></li>
        </ul>
        </li>

        <!-- Games submenu -->
        <li class="has-submenu">
        <a href="#">Game</a>
        <ul class="submenu">
            <li><a href="game39.html">Game39</a></li>   
        </ul>
        </li>

        <!-- Tools submenu -->
        <li class="has-submenu">
        <a href="#">tools</a>
        <ul class="submenu">
            <li><a href="ghostQR.html">GhostQR</a></li>
            <li><a href="isBip39.html">Is BIP39 word?</a></li>
        </ul>
        </li>

      </ul>
    </div>



<div class="shitcoinExchange-container">

            <!-- info modal trigger  -->
    <div class="info-modal-trigger">
        <i class="lni lni-question-mark-circle"></i>
    </div>

    <!-- Titles -->
    <div class="exchange-headings">
        <h1 id="animated-title"></h1>
    </div>

    <!-- Loader -->
    <div id="widget-loader" class="widget-loader"></div>

    <iframe id='iframe-widget'
            src='https://changenow.io/embeds/exchange-widget/v2/widget.html?FAQ=true&amount=378000000&amountFiat&backgroundColor=4d4d4e&darkMode=true&from=pepe&horizontal=false&isFiat=false&lang=en-US&link_id=8eac6c66bcf1a5&locales=true&logo=false&primaryColor=f2a900&to=btc&toTheMoon=false'
            style="height: 356px; width: 100%; border: none">
    </iframe>

        <!-- Error message container -->
    <div id="widget-error" style="display:none; color:#f2a900; margin-top:1rem; font-weight:bold;">
        ‚ö†Ô∏è Widget failed to load. Please check the Javascript permissions and refresh the page or try again later.
    </div>


</div>
<!-- Exchange Shitcoins Explainer Modal  -->
<div id="exchangeShitcoinsModal" class="description-modal">
    <span class="close-icon" onclick="closeExchangeShitcoinsModal()">&times;</span>
    <div class="modal-content">
        <h4>Exchange Shitcoins</h4>
        <h5>
            With fair rates powered by 
            <a id="modal-links" href="https://changenow.app.link/referral?link_id=8eac6c66bcf1a5" target="_blank" rel="noopener">
                ChangeNOW
            </a>
        </h5>

        <p>
            Got a bag of questionable coins collecting digital dust?
            You‚Äôre in the right place.
        </p>

        <p>
            This exchange lets you swap nearly <strong>1,000 different coins and tokens</strong>
            for what actually matters: <strong>Bitcoin</strong>.
            No accounts, no sign-ups, no KYC nonsense ‚Äî just trade and move on.
        </p>

        <p>
            Think of it as a recycling center for your crypto past.
            Turn old experiments, airdrop leftovers, and ‚Äúwhat was I thinking?‚Äù tokens
            into hard sats.
        </p>

        <p>
            We‚Äôre not here to judge your journey.
            We‚Äôre just here to help you end it‚Ä¶ on a Bitcoin standard.
        </p>

        <p>Study ‚Çøitcoin!</p>
    </div>
</div>

<!-- ---------------------------------------------------------------------- -->
<!-- Footer with Email, Lightning Icon, Block Height, and Fee Rate -->
<footer class="footer">
    <!-- Email Link -->
    <a href="mailto:&#111;&#110;&#101;&#064;&#115;&#097;&#116;&#111;&#115;&#104;&#105;&#046;&#115;&#105;?subject=mail to one Satoshi from satoshi.si" target="_blank" rel="noopener">
      one@satoshi.si
    </a>
  
    <!-- Block Height Display (Left Side) -->
    <span id="block-height"  title="Block Height" onclick="openMempoolTinyDataModal()">
    </span>
  
    <!-- Fee Rate Display (Right Side) -->
    <span id="fee-rate" title="Network fee rate" onclick="openMempoolTinyDataModal()">
    </span>
    
    <!-- Lightning Icon -->
    <i class="lni lni-bolt-2" onclick="openQRCodeModal()" title="Support me with a sat or two!"></i>
  </footer>

<!-- Mempool Tiny Data Modal -->
<div id="mempoolTinyDataModal" class="description-modal">
    <div class="modal-content">
        <span class="close-icon" onclick="closeMempoolTinyDataModal()">&times;</span>
        <div class="modal-navigation">
            <span class="left-arrow" title="Previous Block">&larrfs;</span>
            <h2 class="modal-title"></h2>
            <span class="right-arrow" title="Next Block">&rarrfs;</span>
        </div>
        

        <!-- Block Data Content -->
        <div class="block-data" style="display: none;">
            <div class="avg-fee-rate" title="Median fee rate"></div>
            <div class="fee-range" title="Fee Range from Lowest to Highest"></div>
            <div class="total-fees-btc" title="Total fees in Bitcoin"></div>
            <div class="total-fees-sats" title="Total fees in Satoshis"></div>
            <div class="tx-count" title="Number of transactions"></div>
            <div class="time-passed" title="Time passed since this block was mined"></div>
            <div class="mined-by" title="Miner of the block"></div>
        </div>

        <!-- Fee Rate Content -->
        <div class="fee-data" style="display: none;">
            <!-- <div class="fee-info" title="Current Half-Hour Fee Rate"></div> -->
            <div class="economy-fee" title="Economy Fee Rate"></div>
            <div class="fastest-fee" title="Fastest Fee Rate"></div>
            <div class="half-hour-fee" title="Half-Hour Fee Rate"></div>
            <div class="hour-fee" title="Hourly Fee Rate"></div>
            <div class="minimum-fee" title="Minimum Fee Rate"></div>
        </div>
    </div>
</div>


    <!-- Modal for QR Code donation -->
    <div id="qrCodeModal" class="description-modal">
        <div class="modal-content">
            <span class="close-icon" onclick="closeQRCodeModal()">&times;</span>
            <h4 id="gratitudeHeader">If you find this website valuable, consider contributing a sat or two. Thank you.</h4>
            <div class="qr-code-container">
                <!-- Lightning QR Code -->
                <div class="qr-code-wrapper">
                    <img src="/img/qrLND.svg" alt="Lightning QR Code" class="qr-code" id="lightningQRCode" title="one@satoshi.si">
                    <p class="qr-code-text" id="lightningAddress">one@satoshi.si</p>
                </div>
                
                <!-- Onchain QR Code -->
                <div class="qr-code-wrapper">
                    <img src="/img/qrOC.svg" alt="Onchain QR Code" class="qr-code" id="onchainQRCode" title="bc1q2ytw4gwrkw5jg6ekutcwrgw8x5nlkahyk54l5e">
                    <p class="qr-code-text" id="onchainAddress">bc1q2ytw4gwrkw5jg6ekutcwrgw8x5nlkahyk54l5e</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Cookie Consent Modal -->
    <div id="cookieConsentModal" class="description-modal">
        <div class="modal-content">
            <h4>Listen Up, Cookie Crunchers!</h4>
            <h6>The G.D.P.R. (Greatly Demanding Privacy Rules) requires us to share this with you...</h6>
            <p>We don't really give a damn about cookies. But some settings, like our fancy currency rates converter, store your preferences so you don't have to waste time setting things up every damn time you visit.</p>
            <br>
            <p>But seriously, we don't track you, we don't sell your data, and we definitely don't care about what you're doing online (unless you're baking actual cookies, in which case, send some our way digitally in sats. <span style="color: aliceblue">‚ö°</span>)</p>
            <br>
            <p>If you're cool with us making your life a little bit easier, click the button below. If not, hey, that's cool too. Just remember! stay humble and stack sats.</p>
            <br>
            <!-- Button container with Flexbox -->
            <div class="consent-button-container">
                <button onclick="acceptCookies()" class="consent-icon-button green-check" title="Yeah, whatever, just do it!">
                    &#10004; <!-- Unicode checkmark -->
                </button>
                <button onclick="declineCookies()" class="consent-icon-button red-cross" title="Nope, delete sll none essential cookies">
                    &#10008; <!-- Unicode cross -->
                </button>
            </div>
        </div>
      </div>

<script>
document.addEventListener("DOMContentLoaded", function () {
    const iframe = document.getElementById("iframe-widget");
    const loader = document.getElementById("widget-loader");
    const errorMsg = document.getElementById("widget-error");

    let loaded = false;

    // Widget loaded successfully
    iframe.onload = function () {
        loaded = true;
        loader.style.display = "none"; // hide loader
        console.log("Widget loaded successfully.");
    };

    // Timeout for failure (10 seconds)
    setTimeout(() => {
        if (!loaded) {
            loader.style.display = "none"; // hide loader
            errorMsg.style.display = "block"; // show error
            console.warn("Widget failed to load within timeout.");
        }
    }, 10000); // 10 seconds
});


document.addEventListener("DOMContentLoaded", async function () {
    const animatedTitle = document.getElementById("animated-title");

    // Fetch JSON file
    const response = await fetch('exchangeShitcoins.json');
    const data = await response.json();

    // Randomly pick one 3-line title set
    const randomSet = data.titles[Math.floor(Math.random() * data.titles.length)];

    let current = 0;

    function fadeIn(el) {
        el.style.opacity = "1";
    }

    function fadeOut(el) {
        el.style.opacity = "0";
    }

    function showNextTitle() {
        animatedTitle.textContent = randomSet[current];
        fadeIn(animatedTitle);

        if (current < randomSet.length - 1) {
            setTimeout(() => {
                fadeOut(animatedTitle);
                setTimeout(() => {
                    current++;
                    showNextTitle();
                }, 2000); // fade-out duration
            }, 5000); // visible duration
        }
        // Last line stays visible
    }

    showNextTitle();
});

// Handle opening the Exchange Shitcoins modal
function openExchangeShitcoinsModal(event) {
    event.stopPropagation();  // Stop the click from propagating to more general handlers
    const exchangeModal = document.getElementById('exchangeShitcoinsModal');
    if (exchangeModal) {
        closeAllModals();  // Close all other modals
        exchangeModal.classList.add('active');
        document.body.classList.add('modal-open');
    } else {
        console.error('Exchange Shitcoins Modal not found!');
    }
}

// Function to close the Exchange Shitcoin modal
function closeExchangeShitcoinsModal() {
    const exchangeModal = document.getElementById('exchangeShitcoinsModal');
    if (exchangeModal) {
        exchangeModal.classList.remove('active');
        document.body.classList.remove('modal-open');
    } else {
        console.error('Exchange Shitcoins Modal not found!');
    }
}

// element to trigger opening the EExchange Shitcoins modal
const exchangeTrigger = document.querySelector('.info-modal-trigger');
if (exchangeTrigger) {
    exchangeTrigger.addEventListener('click', openExchangeShitcoinsModal);
}

</script>
    <script src="coockieConsent.js"></script>
    <script defer type='text/javascript' src='https://changenow.io/embeds/exchange-widget/v2/stepper-connector.js'></script>
    <script src="copyonclick.js"></script>
    <script src="mempoolWebSocket.js"></script>
    <script src="burgerMenu.js"></script>
    <script src="index.js"></script>
    <script src="nip05.js"></script>
</body>
</html>
